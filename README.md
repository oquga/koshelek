# koshelek
Test task from Кошелёк.Ру


# Бэклог задачи
#### 1. Настройка проекта и окружения
- Создать репозиторий на GitHub.

- Настроить Docker и Docker Compose для запуска PostgreSQL и веб-сервиса.

- Создать базовую структуру проекта на Go (пакеты, модули).

#### 2. Реализация слоя DAL (Data Access Layer)
- Создать подключение к PostgreSQL (без ORM, используя database/sql).

- Реализовать функции для работы с базой данных:

- Создание таблицы для сообщений (текст, метка времени, порядковый номер).

- Вставка нового сообщения в базу.

- Получение списка сообщений за указанный диапазон времени.

#### 3. Реализация веб-сервера
- Настроить веб-сервер (например, с использованием net/http или gin).

- Реализовать REST API:

- Метод для отправки сообщения (POST /message).

- Метод для получения списка сообщений за диапазон дат (GET /messages).

- Добавить Swagger-документацию (например, с использованием swaggo/swag).

#### 4. Реализация WebSocket
- Настроить WebSocket для передачи сообщений второму клиенту.

- Реализовать логику отправки сообщений через WebSocket при их получении от первого клиента.

#### 5. Реализация клиентов
- Клиент 1: Отправка сообщений через REST API.

    - Реализовать простой скрипт или веб-форму для отправки сообщений.

- Клиент 2: Отображение сообщений в реальном времени через WebSocket.

    - Реализовать простой интерфейс для отображения сообщений.

- Клиент 3: Просмотр истории сообщений за последние 10 минут.

    - Реализовать простой интерфейс для отображения списка сообщений.

#### 6. Логирование
- Добавить логирование ключевых событий:

- Получение и отправка сообщений.

- Ошибки при работе с базой данных или WebSocket.

- Запуск и остановка сервера.

#### 7. Тестирование и отладка
- Протестировать все компоненты системы:

- Отправка и получение сообщений.

- Работа WebSocket.

- Получение истории сообщений.

- Убедиться, что все логи корректно записываются.